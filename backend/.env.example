# ==============================================
# PRODUCTION ENVIRONMENT VARIABLES
# ==============================================
# Copy this file to .env and fill in your values

# -----------------------
# MongoDB Configuration
# -----------------------
# Use MongoDB Atlas connection string for production
# Example: mongodb+srv://username:password@cluster.mongodb.net/database_name
MONGODB_URI=mongodb+srv://your_user:your_password@your_cluster.mongodb.net/lora_sensors?retryWrites=true&w=majority

# -----------------------
# Security
# -----------------------
# Generate a strong JWT secret (use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_SECRET=your_secure_random_jwt_secret_here

# Webhook authentication token (must match token configured in TTN)
WEBHOOK_TOKEN=your_secure_webhook_token_here

# -----------------------
# Server Configuration
# -----------------------
PORT=3000
NODE_ENV=production

# -----------------------
# CORS Configuration
# -----------------------
# Comma-separated list of allowed frontend origins
# Examples:
#   Single domain: ALLOWED_ORIGINS=https://app.yourdomain.com
#   Multiple domains: ALLOWED_ORIGINS=https://app.yourdomain.com,https://dashboard.yourdomain.com
#   Development: ALLOWED_ORIGINS=http://localhost:5173
ALLOWED_ORIGINS=https://your-frontend-domain.com

# -----------------------
# Seed Configuration (Optional)
# -----------------------
# Set custom passwords for initial users (production)
# If not set, defaults to admin123/lab123 (INSECURE for production!)
SEED_ADMIN_PASSWORD=your_secure_admin_password_here
SEED_CLIENT_PASSWORD=your_secure_client_password_here

# Set to 'false' to skip generating sample measurement data
# SEED_GENERATE_DATA=false

# -----------------------
# Redis Configuration
# -----------------------
# Redis is used for caching device summaries (TTL 30s)
# In development, Redis is optional - the app works without it
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------
# Logging Configuration
# -----------------------
LOG_LEVEL=info

# ==============================================
# DEVELOPMENT ENVIRONMENT (example)
# ==============================================
# For local development, use these values:
#
# MONGODB_URI=mongodb://localhost:27017/lora_sensors
# JWT_SECRET=dev_secret_change_in_production
# WEBHOOK_TOKEN=TEST_TOKEN_123
# PORT=3000
# NODE_ENV=development
# ALLOWED_ORIGINS=http://localhost:5173

